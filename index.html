<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>成長熊 · 電子養成夥伴</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>成長熊 · 電子養成夥伴</h1>
      <p>選一件事，讓熊熊陪你一起專心完成。</p>
    </header>

    <!-- 🐻 熊熊區塊 -->
    <section class="bear-panel">
      <!-- 回家按鈕（圖片右上角小小的） -->
      <button class="home-btn"
        onclick="window.location.href='https://luckygbear-coder.github.io/HeroApp/index.html';">
        回家
      </button>

      <div class="bear-visual mode-idle" id="bearVisual">
        <!-- 載入後會被 script.js 改成閒置熊三選一 -->
        <img id="bearImage" src="images/bear_idle1.png" alt="成長熊" />
      </div>
      <div class="bear-bubble" id="bearBubble">
        🐻 我們今天要一起做什麼呢？
      </div>
    </section>

    <!-- 📊 成長狀態（右上角有成長日記） -->
    <section class="stats">
      <div class="stats-header">
        <h2>成長狀態</h2>
        <button id="openAllDiaryBtn" class="stats-diary-btn">成長日記</button>
      </div>

      <div class="level-row">
        <span>等級</span>
        <span id="levelText">Lv. 1</span>
      </div>

      <div class="stat-row">
        <span>閱讀 📖</span>
        <div class="stat-bar">
          <div id="readingBar" class="stat-fill"></div>
        </div>
        <span id="readingValue" class="stat-value">0 分鐘</span>
      </div>

      <div class="stat-row">
        <span>運動 💪</span>
        <div class="stat-bar">
          <div id="sportBar" class="stat-fill"></div>
        </div>
        <span id="sportValue" class="stat-value">0 分鐘</span>
      </div>

      <div class="stat-row">
        <span>技能 🎵</span>
        <div class="stat-bar">
          <div id="skillBar" class="stat-fill"></div>
        </div>
        <span id="skillValue" class="stat-value">0 分鐘</span>
      </div>
    </section>

    <!-- ⏳ 任務／定時 -->
    <section class="timer">
      <div class="timer-header-row">
        <h2>今天要做什麼？</h2>
        <!-- 小顆鬧鐘按鈕 -->
        <button id="openAlarmModalBtn" class="timer-alarm-btn">⏰ 鬧鐘</button>
      </div>

      <!-- 活動種類 -->
      <div class="activity-buttons">
        <button class="activity-btn active" data-activity="reading">📖 看書</button>
        <button class="activity-btn" data-activity="sport">💪 運動</button>
        <button class="activity-btn" data-activity="skill">🎵 練技能</button>
      </div>

      <!-- 可累加的時間設定 -->
      <h3>設定本次專注時間（可以累加調整）</h3>

      <div class="step-select-row">
        <span class="step-label">每次調整：</span>
        <div class="step-buttons">
          <button class="step-btn active" data-step="1">1 分</button>
          <button class="step-btn" data-step="5">5 分</button>
          <button class="step-btn" data-step="10">10 分</button>
          <button class="step-btn" data-step="30">30 分</button>
          <button class="step-btn" data-step="60">60 分</button>
        </div>
      </div>

      <div class="duration-control">
        <button id="minusBtn" class="round-btn">－</button>
        <div id="durationMinutes" class="duration-display">0 分鐘</div>
        <button id="plusBtn" class="round-btn">＋</button>
      </div>

      <!-- 定時器顯示 -->
      <div class="timer-display" id="timerDisplay">
        尚未開始
      </div>

      <div class="timer-progress">
        <div class="timer-progress-fill" id="timerProgressFill"></div>
      </div>

      <div class="timer-actions">
        <button class="primary-btn" id="startButton">開始陪伴</button>
        <button class="ghost-btn" id="cancelButton" disabled>結束 / 取消</button>
      </div>
    </section>
  </div>

  <!-- 🎉 完成任務鼓勵 Modal（熊熊跳出來） -->
  <div id="completionModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-card completion-card">
      <div class="completion-bear">🐻✨</div>
      <h3 id="completionTitle">太棒了！</h3>
      <p id="completionText">
        你完成了 20 分鐘的閱讀，今天的你又升級了一點點！
      </p>
      <div class="modal-actions">
        <button id="modalAgainBtn" class="primary-btn full-width">再來一輪</button>
        <button id="modalRestBtn" class="ghost-btn full-width">先休息一下</button>
      </div>
    </div>
  </div>

  <!-- 📘 全部日記 Modal -->
  <div id="allDiaryModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-card diary-card">
      <div class="modal-header-row">
        <h3>成長熊的小日記</h3>
        <button id="closeAllDiaryBtn" class="icon-btn">✕</button>
      </div>
      <div id="allDiaryList" class="diary-list all-diary-list">
        目前還沒有任何紀錄。
      </div>
    </div>
  </div>

  <!-- ⏰ 鬧鐘設定 Modal -->
  <div id="alarmModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-card alarm-card">
      <div class="modal-header-row">
        <h3>鬧鐘提醒</h3>
        <button id="closeAlarmModalBtn" class="icon-btn">✕</button>
      </div>

      <div class="alarm-form">
        <div class="alarm-row">
          <label for="alarmActivity">活動：</label>
          <select id="alarmActivity">
            <option value="reading">📖 看書</option>
            <option value="sport">💪 運動</option>
            <option value="skill">🎵 練技能</option>
          </select>
        </div>

        <div class="alarm-row">
          <label for="alarmTime">時間：</label>
          <input id="alarmTime" type="time" />
        </div>

        <div class="alarm-row">
          <label for="alarmLabel">備註：</label>
          <input id="alarmLabel" type="text" placeholder="例如：睡前閱讀 / 晚上運動" />
        </div>

        <button id="addAlarmBtn" class="primary-btn small-btn">新增鬧鐘</button>
        <p class="alarm-tip">＊網頁必須開著，鬧鐘才會提醒喔。</p>
      </div>

      <div id="alarmList" class="alarm-list">
        目前還沒有鬧鐘，試著安排一個吧！
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>